require 'simplecov'
SimpleCov.start 'rails'

def create_user
  User.create(
              nickname: "bdubb",
              name: "Brant Wellman",
              location: "Denver, CO",
              secret: ENV['BW_SECRET'],
              token: ENV['BW_TOKEN'],
              uid: "12345",
              provider: "twitter",
              )
end

def login(create_user)
  visit root_path
  click_on "Login with Twitter"
end

def location
  l = Location.create(
                  address: "1510 Blake St",
                  city: "Denver",
                  state: "CO",
                  zipcode: "80202",
                  date: "2016-03-02 00:00:00",
                  latitude: 39.749635,
                  longitude: -105.000106
                  )
  f = Forecast.create(
                      location_id: l.id,
                      cloud_cover: 0.23,
                      precip_prob: 0.23,
                      visibility: 4.5,
                      precip_intensity: 2.3,
                      ozone: 2.3,
                      summary: "Clear",
                      sunrise: Time.zone.at(1457011843),
                      sunset: Time.zone.at(1457052944),
                      timezone: "America/Denver",
                      sunrise_summary: "Clear",
                      sunset_summary: "Cloudy"
                      )
  l
end

RSpec.configure do |config|
  config.expect_with :rspec do |expectations|
    expectations.include_chain_clauses_in_custom_matcher_descriptions = true
  end

  config.mock_with :mocha
  # config.mock_with :rspec do |mocks|
  #   mocks.verify_partial_doubles = true
  # end
end

def forecast_hash
  {
    latitude: 39.7392,
    longitude: -104.9903,
    timezone: "America/Denver",
    offset: -7,
    currently: {
    time: 1457049600,
    summary: "Mostly Cloudy",
    icon: "partly-cloudy-day",
    precipIntensity: 0,
    precipProbability: 0,
    temperature: 60.69,
    apparentTemperature: 60.69,
    dewPoint: 15.89,
    humidity: 0.17,
    windSpeed: 1.68,
    windBearing: 91,
    visibility: 4.32,
    cloudCover: 0.76,
    pressure: 1012.74,
    ozone: 302.4
  },
    hourly:
    {
    summary: "Partly cloudy starting in the afternoon.",
    icon: "partly-cloudy-day",
    data: [
{
time: 1456988400,
summary: "Partly Cloudy",
icon: "partly-cloudy-night",
precipIntensity: 0,
precipProbability: 0,
temperature: 38.56,
apparentTemperature: 36.5,
dewPoint: 18.28,
humidity: 0.43,
windSpeed: 3.19,
windBearing: 324,
visibility: 10,
cloudCover: 0.27,
pressure: 1018.93,
ozone: 339.1
},
{
time: 1456992000,
summary: "Clear",
icon: "clear-night",
precipIntensity: 0,
precipProbability: 0,
temperature: 36.97,
apparentTemperature: 36.97,
dewPoint: 18.44,
humidity: 0.47,
windSpeed: 2.62,
windBearing: 319,
visibility: 10,
cloudCover: 0.19,
pressure: 1020.08,
ozone: 337.6
},
{
time: 1456995600,
summary: "Clear",
icon: "clear-night",
precipIntensity: 0,
precipProbability: 0,
temperature: 34.69,
apparentTemperature: 34.69,
dewPoint: 19.68,
humidity: 0.54,
windSpeed: 1.65,
windBearing: 30,
visibility: 10,
cloudCover: 0.1,
pressure: 1021.25,
ozone: 336.1
},
{
time: 1456999200,
summary: "Clear",
icon: "clear-night",
precipIntensity: 0,
precipProbability: 0,
temperature: 32.47,
apparentTemperature: 32.47,
dewPoint: 19.05,
humidity: 0.57,
windSpeed: 0.93,
windBearing: 145,
visibility: 10,
cloudCover: 0.11,
pressure: 1022.18,
ozone: 333.33
},
{
time: 1457002800,
summary: "Clear",
icon: "clear-night",
precipIntensity: 0,
precipProbability: 0,
temperature: 31.63,
apparentTemperature: 31.63,
dewPoint: 18.88,
humidity: 0.59,
windSpeed: 1.84,
windBearing: 173,
visibility: 10,
cloudCover: 0.16,
pressure: 1022.95,
ozone: 330.13
},
{
time: 1457006400,
summary: "Clear",
icon: "clear-night",
precipIntensity: 0,
precipProbability: 0,
temperature: 31.34,
apparentTemperature: 31.34,
dewPoint: 18.61,
humidity: 0.59,
windSpeed: 2.57,
windBearing: 183,
visibility: 10,
cloudCover: 0.17,
pressure: 1023.32,
ozone: 327.7
},
{
time: 1457010000,
summary: "Clear",
icon: "clear-night",
precipIntensity: 0,
precipProbability: 0,
temperature: 31.85,
apparentTemperature: 31.85,
dewPoint: 19.11,
humidity: 0.59,
windSpeed: 2.2,
windBearing: 186,
visibility: 10,
cloudCover: 0.12,
pressure: 1022.97,
ozone: 326.76
},
{
time: 1457013600,
summary: "Clear",
icon: "clear-day",
precipIntensity: 0,
precipProbability: 0,
temperature: 33.4,
apparentTemperature: 30.36,
dewPoint: 18.98,
humidity: 0.55,
windSpeed: 3.42,
windBearing: 186,
visibility: 10,
cloudCover: 0.04,
pressure: 1022.17,
ozone: 326.59
},
{
time: 1457017200,
summary: "Clear",
icon: "clear-day",
precipIntensity: 0,
precipProbability: 0,
temperature: 37.67,
apparentTemperature: 35.39,
dewPoint: 20.11,
humidity: 0.49,
windSpeed: 3.28,
windBearing: 183,
visibility: 10,
cloudCover: 0.01,
pressure: 1021.17,
ozone: 326.3
},
{
time: 1457020800,
summary: "Clear",
icon: "clear-day",
precipIntensity: 0,
precipProbability: 0,
temperature: 43.86,
apparentTemperature: 42.26,
dewPoint: 21.76,
humidity: 0.41,
windSpeed: 3.46,
windBearing: 159,
visibility: 10,
cloudCover: 0.04,
pressure: 1019.93,
ozone: 325.5
},
{
time: 1457024400,
summary: "Clear",
icon: "clear-day",
precipIntensity: 0,
precipProbability: 0,
temperature: 48.96,
apparentTemperature: 48.31,
dewPoint: 21.44,
humidity: 0.33,
windSpeed: 3.21,
windBearing: 154,
visibility: 10,
cloudCover: 0.11,
pressure: 1018.5,
ozone: 324.59
},
{
time: 1457028000,
summary: "Clear",
icon: "clear-day",
precipIntensity: 0,
precipProbability: 0,
temperature: 54.63,
apparentTemperature: 54.63,
dewPoint: 18.19,
humidity: 0.24,
windSpeed: 1.71,
windBearing: 166,
visibility: 5.44,
cloudCover: 0.2,
pressure: 1017.28,
ozone: 323.8
},
{
time: 1457031600,
summary: "Partly Cloudy",
icon: "partly-cloudy-day",
precipIntensity: 0,
precipProbability: 0,
temperature: 57.17,
apparentTemperature: 57.17,
dewPoint: 17.6,
humidity: 0.21,
windSpeed: 0.95,
windBearing: 152,
visibility: 4.3,
cloudCover: 0.3,
pressure: 1016.34,
ozone: 323.97
},
{
time: 1457035200,
summary: "Partly Cloudy",
icon: "partly-cloudy-day",
precipIntensity: 0,
precipProbability: 0,
temperature: 60.28,
apparentTemperature: 60.28,
dewPoint: 14.57,
humidity: 0.16,
windSpeed: 1.37,
windBearing: 33,
visibility: 4.32,
cloudCover: 0.42,
pressure: 1015.51,
ozone: 324.28
},
{
time: 1457038800,
summary: "Partly Cloudy",
icon: "partly-cloudy-day",
precipIntensity: 0,
precipProbability: 0,
temperature: 62.43,
apparentTemperature: 62.43,
dewPoint: 15.04,
humidity: 0.16,
windSpeed: 1.4,
windBearing: 9,
visibility: 4.33,
cloudCover: 0.54,
pressure: 1014.75,
ozone: 322.5
},
{
time: 1457042400,
summary: "Mostly Cloudy",
icon: "partly-cloudy-day",
precipIntensity: 0,
precipProbability: 0,
temperature: 62.58,
apparentTemperature: 62.58,
dewPoint: 14.58,
humidity: 0.15,
windSpeed: 2.19,
windBearing: 41,
visibility: 4.33,
cloudCover: 0.63,
pressure: 1013.9,
ozone: 316.43
},
{
time: 1457046000,
summary: "Mostly Cloudy",
icon: "partly-cloudy-day",
precipIntensity: 0,
precipProbability: 0,
temperature: 62.62,
apparentTemperature: 62.62,
dewPoint: 14.63,
humidity: 0.15,
windSpeed: 1.76,
windBearing: 58,
visibility: 4.33,
cloudCover: 0.72,
pressure: 1013.11,
ozone: 308.26
},
{
time: 1457049600,
summary: "Mostly Cloudy",
icon: "partly-cloudy-day",
precipIntensity: 0,
precipProbability: 0,
temperature: 60.69,
apparentTemperature: 60.69,
dewPoint: 15.89,
humidity: 0.17,
windSpeed: 1.68,
windBearing: 91,
visibility: 4.32,
cloudCover: 0.76,
pressure: 1012.74,
ozone: 302.4
},
{
time: 1457053200,
summary: "Mostly Cloudy",
icon: "partly-cloudy-night",
precipIntensity: 0,
precipProbability: 0,
temperature: 58.07,
apparentTemperature: 58.07,
dewPoint: 18.46,
humidity: 0.21,
windSpeed: 1.3,
windBearing: 102,
visibility: 4.32,
cloudCover: 0.62,
pressure: 1013.12,
ozone: 301.09
},
{
time: 1457056800,
summary: "Partly Cloudy",
icon: "partly-cloudy-night",
precipIntensity: 0,
precipProbability: 0,
temperature: 53.79,
apparentTemperature: 53.79,
dewPoint: 19.4,
humidity: 0.26,
windSpeed: 0.54,
windBearing: 189,
visibility: 4.32,
cloudCover: 0.37,
pressure: 1014.14,
ozone: 302.08
},
{
time: 1457060400,
summary: "Partly Cloudy",
icon: "partly-cloudy-night",
precipIntensity: 0,
precipProbability: 0,
temperature: 50.64,
apparentTemperature: 50.64,
dewPoint: 20.67,
humidity: 0.3,
windSpeed: 0.94,
windBearing: 190,
visibility: 4.32,
cloudCover: 0.27,
pressure: 1015.26,
ozone: 303
},
{
time: 1457064000,
summary: "Partly Cloudy",
icon: "partly-cloudy-night",
precipIntensity: 0,
precipProbability: 0,
temperature: 48.02,
apparentTemperature: 48.02,
dewPoint: 21,
humidity: 0.34,
windSpeed: 2.69,
windBearing: 224,
visibility: 4.38,
cloudCover: 0.44,
pressure: 1015.65,
ozone: 303.07
},
{
time: 1457067600,
summary: "Mostly Cloudy",
icon: "partly-cloudy-night",
precipIntensity: 0,
precipProbability: 0,
temperature: 45.66,
apparentTemperature: 45.66,
dewPoint: 21.12,
humidity: 0.37,
windSpeed: 1.99,
windBearing: 209,
visibility: 4.34,
cloudCover: 0.74,
pressure: 1015.75,
ozone: 303.08
},
{
time: 1457071200,
summary: "Mostly Cloudy",
icon: "partly-cloudy-night",
precipIntensity: 0,
precipProbability: 0,
temperature: 44.23,
apparentTemperature: 44.23,
dewPoint: 21.41,
humidity: 0.4,
windSpeed: 1.88,
windBearing: 211,
visibility: 4.32,
cloudCover: 0.92,
pressure: 1015.92,
ozone: 303
}
]
},
daily: {
data: [
{
time: 1456988400,
summary: "Partly cloudy starting in the afternoon.",
icon: "partly-cloudy-night",
sunriseTime: 1457011843,
sunsetTime: 1457052944,
moonPhase: 0.81,
precipIntensity: 0,
precipIntensityMax: 0,
precipProbability: 0,
temperatureMin: 31.34,
temperatureMinTime: 1457006400,
temperatureMax: 62.62,
temperatureMaxTime: 1457046000,
apparentTemperatureMin: 30.36,
apparentTemperatureMinTime: 1457013600,
apparentTemperatureMax: 62.62,
apparentTemperatureMaxTime: 1457046000,
dewPoint: 18.65,
humidity: 0.37,
windSpeed: 0.54,
windBearing: 171,
visibility: 7.09,
cloudCover: 0.34,
pressure: 1017.79,
ozone: 320.45
}
]
}
}
end
